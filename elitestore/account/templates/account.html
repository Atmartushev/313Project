{% extends 'base_generic.html' %}
{% load static %}
{% block content %}
{% if request.user.is_authenticated %}
<div class="container my-3">
    <h1>Account Information</h1>
    <p><strong>Username:</strong> {{ user.username }}</p>
    <p><strong>Email:</strong> {{ user.email }}</p>
</div>
{% if orders %}
<div class="container text-center">
    <h2>Previous Orders</h2>
</div>
<div class="container border my-3 p-2">
    <table class="table">
        <thead>
            <tr>
                <th>Product</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Item Total</th>
            </tr>
        </thead>
        <tbody>
            {% for item in cart_items %}
            <tr>
                <td>{{ item.product_variation }}</td>
                <td>${{ item.product_variation.product.price }}</td>
                <td>{{ item.quantity }}</td>
                <td>${{ item.item_total }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <p>Total Price: ${{ total_price }}</p>
</div>
{% else %}
<div class="container text-center">
    <p>You have no orders.</p>
</div>
{% endif %}
{% endif %}

{% endblock content %}
